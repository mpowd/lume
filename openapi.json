{
  "openapi": "3.1.0",
  "info": {
    "title": "Lume - AI Assistant Platform",
    "description": "Platform for creating and managing AI assistants with RAG",
    "version": "2.0.0"
  },
  "paths": {
    "/assistants/": {
      "post": {
        "tags": [
          "assistants"
        ],
        "summary": "Create Assistant",
        "description": "Create a new assistant",
        "operationId": "createAssistant",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssistantCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssistantResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "assistants"
        ],
        "summary": "List Assistants",
        "description": "List all assistants",
        "operationId": "listAssistants",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by assistant type",
              "title": "Type"
            },
            "description": "Filter by assistant type"
          },
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by active status",
              "title": "Is Active"
            },
            "description": "Filter by active status"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AssistantResponse"
                  },
                  "title": "Response Listassistants"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/assistants/{assistant_id}": {
      "get": {
        "tags": [
          "assistants"
        ],
        "summary": "Get Assistant",
        "description": "Get a specific assistant",
        "operationId": "getAssistant",
        "parameters": [
          {
            "name": "assistant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assistant Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssistantResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "assistants"
        ],
        "summary": "Update Assistant",
        "description": "Update an assistant",
        "operationId": "updateAssistant",
        "parameters": [
          {
            "name": "assistant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assistant Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AssistantUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AssistantResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "assistants"
        ],
        "summary": "Delete Assistant",
        "description": "Delete an assistant",
        "operationId": "deleteAssistant",
        "parameters": [
          {
            "name": "assistant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assistant Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/assistants/types/list": {
      "get": {
        "tags": [
          "assistants"
        ],
        "summary": "List Assistant Types",
        "description": "List all available assistant types",
        "operationId": "listAssistantTypes",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/assistants/types/{assistant_type}/schema": {
      "get": {
        "tags": [
          "assistants"
        ],
        "summary": "Get Assistant Type Schema",
        "description": "Get schemas for a specific assistant type",
        "operationId": "getAssistantTypeSchema",
        "parameters": [
          {
            "name": "assistant_type",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assistant Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/assistants/{assistant_id}/execute": {
      "post": {
        "tags": [
          "assistants"
        ],
        "summary": "Execute Assistant",
        "description": "Execute an assistant",
        "operationId": "executeAssistant",
        "parameters": [
          {
            "name": "assistant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assistant Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExecutionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExecutionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/assistants/{assistant_id}/execute-stream": {
      "post": {
        "tags": [
          "assistants"
        ],
        "summary": "Execute Assistant Stream",
        "description": "Execute an assistant in streaming mode",
        "operationId": "executeAssistantStream",
        "parameters": [
          {
            "name": "assistant_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Assistant Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExecutionRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/collections": {
      "get": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "List Collections",
        "description": "List all available collections.",
        "operationId": "listCollections",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Create Collection",
        "description": "Create a new knowledge base collection.",
        "operationId": "createCollection",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/collections/{collection_name}": {
      "get": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Get Collection Config",
        "description": "Get configuration for a specific collection.",
        "operationId": "getCollectionConfig",
        "parameters": [
          {
            "name": "collection_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CollectionConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Update Collection",
        "description": "Update collection metadata.",
        "operationId": "updateCollection",
        "parameters": [
          {
            "name": "collection_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Name"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CollectionUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Delete Collection",
        "description": "Delete a collection and all associated data.",
        "operationId": "deleteCollection",
        "parameters": [
          {
            "name": "collection_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Name"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/links": {
      "get": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Get Links",
        "description": "Discover links from a website and mark existing ones.",
        "operationId": "getWebsiteLinks",
        "parameters": [
          {
            "name": "base_url",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "URL to crawl for links",
              "title": "Base Url"
            },
            "description": "URL to crawl for links"
          },
          {
            "name": "include_external",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Include external domains",
              "default": false,
              "title": "Include External"
            },
            "description": "Include external domains"
          },
          {
            "name": "collection_name",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Collection to check for existing URLs",
              "title": "Collection Name"
            },
            "description": "Collection to check for existing URLs"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WebsiteLinkInfo"
                  },
                  "title": "Response Getwebsitelinks"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/upload-websites": {
      "post": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Upload Websites",
        "description": "Start background website ingestion. Poll progress via /upload-progress/{task_id}.",
        "operationId": "uploadWebsites",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebsiteUploadRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskStartedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/reindex": {
      "post": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Reindex Urls",
        "description": "Delete and re-ingest URLs.",
        "operationId": "reindexUrls",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ReindexRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/watch-urls/{collection_name}": {
      "get": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Watch Urls",
        "description": "Check if website contents have changed since last scrape.",
        "operationId": "watchUrls",
        "parameters": [
          {
            "name": "collection_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WatchUrlsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/upload-files": {
      "post": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Upload Files",
        "description": "Start background file ingestion. Poll progress via /upload-progress/{task_id}.",
        "operationId": "uploadFiles",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_uploadFiles"
              }
            }
          },
          "required": true
        },
        "responses": {
          "202": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskStartedResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/files/{collection_name}/{filename}": {
      "get": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Get File",
        "description": "Serve an uploaded file.",
        "operationId": "getFile",
        "parameters": [
          {
            "name": "collection_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Collection Name"
            }
          },
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/knowledge-base/upload-progress/{task_id}": {
      "get": {
        "tags": [
          "knowledge-base"
        ],
        "summary": "Get Upload Progress",
        "description": "Get progress for a website or file upload task.",
        "operationId": "getUploadProgress",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TaskProgressResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/datasets": {
      "get": {
        "tags": [
          "evaluation"
        ],
        "summary": "List Datasets",
        "description": "Retrieve all evaluation datasets.",
        "operationId": "listDatasets",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetListResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "evaluation"
        ],
        "summary": "Create Dataset",
        "description": "Create a dataset with manually provided QA pairs.",
        "operationId": "createDataset",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DatasetCreateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/datasets/{dataset_id}": {
      "put": {
        "tags": [
          "evaluation"
        ],
        "summary": "Update Dataset",
        "description": "Update an evaluation dataset.",
        "operationId": "updateDataset",
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DatasetUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "evaluation"
        ],
        "summary": "Delete Dataset",
        "description": "Delete an evaluation dataset.",
        "operationId": "deleteDataset",
        "parameters": [
          {
            "name": "dataset_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/ragas": {
      "post": {
        "tags": [
          "evaluation"
        ],
        "summary": "Generate Ragas Dataset",
        "description": "Generate a synthetic QA dataset using RAGAS.",
        "operationId": "generateRagasDataset",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RagasGenerationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatasetResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/evaluate-assistant": {
      "post": {
        "tags": [
          "evaluation"
        ],
        "summary": "Evaluate Assistant",
        "description": "Evaluate an assistant's performance using RAGAS metrics.",
        "operationId": "evaluateAssistant",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EvaluateAssistantRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/evaluations": {
      "get": {
        "tags": [
          "evaluation"
        ],
        "summary": "List Evaluations",
        "description": "Retrieve all evaluation results.",
        "operationId": "listEvaluations",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluationListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/evaluations/{evaluation_id}": {
      "get": {
        "tags": [
          "evaluation"
        ],
        "summary": "Get Evaluation",
        "description": "Retrieve a specific evaluation by ID.",
        "operationId": "getEvaluation",
        "parameters": [
          {
            "name": "evaluation_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Evaluation Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluationResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/evaluation/datasets/{dataset_name}/evaluations": {
      "get": {
        "tags": [
          "evaluation"
        ],
        "summary": "List Evaluations By Dataset",
        "description": "Get all evaluations for a specific dataset.",
        "operationId": "listEvaluationsByDataset",
        "parameters": [
          {
            "name": "dataset_name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dataset Name"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluationListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/integrations/ollama/models": {
      "get": {
        "tags": [
          "integrations"
        ],
        "summary": "Get Ollama Models",
        "description": "Fetch available Ollama models from the host machine",
        "operationId": "get_ollama_models_integrations_ollama_models_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "operationId": "healthCheck",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AssistantCreateRequest": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "default": ""
          },
          "type": {
            "type": "string",
            "title": "Type",
            "default": "qa"
          },
          "config": {
            "$ref": "#/components/schemas/QAAssistantConfig"
          },
          "created_by": {
            "type": "string",
            "title": "Created By",
            "default": "system"
          }
        },
        "type": "object",
        "required": [
          "name",
          "config"
        ],
        "title": "AssistantCreateRequest"
      },
      "AssistantResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "description": {
            "type": "string",
            "title": "Description"
          },
          "type": {
            "type": "string",
            "title": "Type"
          },
          "config": {
            "$ref": "#/components/schemas/QAAssistantConfig"
          },
          "created_by": {
            "type": "string",
            "title": "Created By"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "description",
          "type",
          "config",
          "created_by",
          "created_at",
          "updated_at",
          "is_active"
        ],
        "title": "AssistantResponse"
      },
      "AssistantUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "config": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/QAAssistantConfig"
              },
              {
                "type": "null"
              }
            ]
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "AssistantUpdateRequest"
      },
      "Body_uploadFiles": {
        "properties": {
          "collection_name": {
            "type": "string",
            "title": "Collection Name"
          },
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files"
          }
        },
        "type": "object",
        "required": [
          "collection_name",
          "files"
        ],
        "title": "Body_uploadFiles"
      },
      "CollectionConfigResponse": {
        "properties": {
          "collection_name": {
            "type": "string",
            "title": "Collection Name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "dense_embedding_model": {
            "type": "string",
            "title": "Dense Embedding Model"
          },
          "dense_embedding_dim": {
            "type": "integer",
            "title": "Dense Embedding Dim"
          },
          "sparse_embedding_model": {
            "type": "string",
            "title": "Sparse Embedding Model",
            "default": "bm25"
          },
          "chunk_size": {
            "type": "integer",
            "title": "Chunk Size"
          },
          "chunk_overlap": {
            "type": "integer",
            "title": "Chunk Overlap"
          },
          "distance_metric": {
            "type": "string",
            "title": "Distance Metric"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "collection_name",
          "dense_embedding_model",
          "dense_embedding_dim",
          "chunk_size",
          "chunk_overlap",
          "distance_metric",
          "created_at",
          "updated_at"
        ],
        "title": "CollectionConfigResponse",
        "description": "The full collection configuration stored in MongoDB."
      },
      "CollectionCreateRequest": {
        "properties": {
          "collection_name": {
            "type": "string",
            "title": "Collection Name"
          },
          "description": {
            "type": "string",
            "title": "Description",
            "default": ""
          },
          "embedding_model": {
            "type": "string",
            "title": "Embedding Model"
          },
          "chunk_size": {
            "type": "integer",
            "title": "Chunk Size",
            "default": 1000
          },
          "chunk_overlap": {
            "type": "integer",
            "title": "Chunk Overlap",
            "default": 100
          },
          "distance_metric": {
            "type": "string",
            "title": "Distance Metric",
            "default": "Cosine similarity"
          }
        },
        "type": "object",
        "required": [
          "collection_name",
          "embedding_model"
        ],
        "title": "CollectionCreateRequest"
      },
      "CollectionListResponse": {
        "properties": {
          "collection_names": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Collection Names"
          }
        },
        "type": "object",
        "required": [
          "collection_names"
        ],
        "title": "CollectionListResponse"
      },
      "CollectionUpdateRequest": {
        "properties": {
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          }
        },
        "type": "object",
        "title": "CollectionUpdateRequest"
      },
      "CompletionStatResponse": {
        "properties": {
          "label": {
            "type": "string",
            "title": "Label"
          },
          "value": {
            "type": "integer",
            "title": "Value"
          },
          "variant": {
            "type": "string",
            "title": "Variant",
            "default": "info"
          }
        },
        "type": "object",
        "required": [
          "label",
          "value"
        ],
        "title": "CompletionStatResponse"
      },
      "DatasetCreateRequest": {
        "properties": {
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "Name of the dataset"
          },
          "qa_pairs": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Qa Pairs",
            "description": "List of question-answer pair dicts"
          }
        },
        "type": "object",
        "required": [
          "dataset_name",
          "qa_pairs"
        ],
        "title": "DatasetCreateRequest"
      },
      "DatasetListResponse": {
        "properties": {
          "datasets": {
            "items": {
              "$ref": "#/components/schemas/DatasetResponse"
            },
            "type": "array",
            "title": "Datasets"
          }
        },
        "type": "object",
        "required": [
          "datasets"
        ],
        "title": "DatasetListResponse"
      },
      "DatasetResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "source_collection": {
            "type": "string",
            "title": "Source Collection"
          },
          "generated_at": {
            "type": "string",
            "title": "Generated At"
          },
          "generator": {
            "type": "string",
            "title": "Generator"
          },
          "model": {
            "type": "string",
            "title": "Model"
          },
          "num_pairs": {
            "type": "integer",
            "title": "Num Pairs"
          },
          "qa_pairs": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Qa Pairs"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "source_collection",
          "generated_at",
          "generator",
          "model",
          "num_pairs",
          "qa_pairs"
        ],
        "title": "DatasetResponse"
      },
      "DatasetUpdateRequest": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "qa_pairs": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Qa Pairs"
          }
        },
        "type": "object",
        "title": "DatasetUpdateRequest",
        "description": "Partial update for a dataset. All fields optional."
      },
      "EvaluateAssistantRequest": {
        "properties": {
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name",
            "description": "Name of the evaluation dataset"
          },
          "assistant_id": {
            "type": "string",
            "title": "Assistant Id",
            "description": "ID of the assistant being evaluated"
          },
          "questions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Questions"
          },
          "ground_truths": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Ground Truths"
          },
          "answers": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Answers"
          },
          "retrieved_contexts": {
            "items": {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            "type": "array",
            "title": "Retrieved Contexts",
            "description": "Retrieved context chunks per question"
          },
          "eval_llm_model": {
            "type": "string",
            "title": "Eval Llm Model",
            "default": "gpt-4o-mini"
          },
          "eval_llm_provider": {
            "type": "string",
            "title": "Eval Llm Provider",
            "default": "openai"
          }
        },
        "type": "object",
        "required": [
          "dataset_name",
          "assistant_id",
          "questions",
          "ground_truths",
          "answers",
          "retrieved_contexts"
        ],
        "title": "EvaluateAssistantRequest"
      },
      "EvaluationListResponse": {
        "properties": {
          "evaluations": {
            "items": {
              "$ref": "#/components/schemas/EvaluationResponse"
            },
            "type": "array",
            "title": "Evaluations"
          }
        },
        "type": "object",
        "required": [
          "evaluations"
        ],
        "title": "EvaluationListResponse"
      },
      "EvaluationResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name"
          },
          "assistant_id": {
            "type": "string",
            "title": "Assistant Id"
          },
          "eval_llm_model": {
            "type": "string",
            "title": "Eval Llm Model"
          },
          "eval_llm_provider": {
            "type": "string",
            "title": "Eval Llm Provider"
          },
          "metrics": {
            "$ref": "#/components/schemas/MetricsSummary"
          },
          "detailed_results": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "Detailed Results"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "dataset_name",
          "assistant_id",
          "eval_llm_model",
          "eval_llm_provider",
          "metrics",
          "detailed_results",
          "created_at"
        ],
        "title": "EvaluationResponse"
      },
      "ExecutionRequest": {
        "properties": {
          "input_data": {
            "additionalProperties": true,
            "type": "object",
            "title": "Input Data"
          }
        },
        "type": "object",
        "required": [
          "input_data"
        ],
        "title": "ExecutionRequest"
      },
      "ExecutionResponse": {
        "properties": {
          "execution_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Execution Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "output": {
            "additionalProperties": true,
            "type": "object",
            "title": "Output"
          },
          "execution_time": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Execution Time"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "status",
          "output"
        ],
        "title": "ExecutionResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "MetricsSummary": {
        "properties": {
          "faithfulness": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Faithfulness"
          },
          "context_recall": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Recall"
          },
          "answer_relevancy": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Answer Relevancy"
          },
          "context_precision": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context Precision"
          }
        },
        "type": "object",
        "title": "MetricsSummary"
      },
      "ProgressStageResponse": {
        "properties": {
          "label": {
            "type": "string",
            "title": "Label"
          },
          "current": {
            "type": "integer",
            "title": "Current",
            "default": 0
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "default": 0
          },
          "unit": {
            "type": "string",
            "title": "Unit",
            "default": "items"
          },
          "is_current": {
            "type": "boolean",
            "title": "Is Current",
            "default": false
          },
          "current_item": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Item"
          }
        },
        "type": "object",
        "required": [
          "label"
        ],
        "title": "ProgressStageResponse"
      },
      "QAAssistantConfig": {
        "properties": {
          "knowledge_base_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Knowledge Base Ids",
            "default": []
          },
          "opening_message": {
            "type": "string",
            "title": "Opening Message",
            "default": ""
          },
          "references": {
            "items": {
              "additionalProperties": true,
              "type": "object"
            },
            "type": "array",
            "title": "References",
            "default": []
          },
          "llm_model": {
            "type": "string",
            "title": "Llm Model",
            "default": "gpt-4o"
          },
          "llm_provider": {
            "type": "string",
            "title": "Llm Provider",
            "default": "openai"
          },
          "hybrid_search": {
            "type": "boolean",
            "title": "Hybrid Search",
            "default": true
          },
          "top_k": {
            "type": "integer",
            "title": "Top K",
            "default": 10
          },
          "use_hyde": {
            "type": "boolean",
            "title": "Use Hyde",
            "default": false
          },
          "hyde_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Hyde Prompt"
          },
          "reranking": {
            "type": "boolean",
            "title": "Reranking",
            "default": false
          },
          "reranker_provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reranker Provider"
          },
          "reranker_model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reranker Model"
          },
          "top_n": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Top N"
          },
          "system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "System Prompt"
          },
          "user_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Prompt"
          },
          "precise_citation": {
            "type": "boolean",
            "title": "Precise Citation",
            "default": false
          },
          "precise_citation_system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Precise Citation System Prompt"
          },
          "precise_citation_user_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Precise Citation User Prompt"
          },
          "local_only": {
            "type": "boolean",
            "title": "Local Only",
            "default": false
          },
          "tools": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Tools",
            "default": []
          },
          "max_steps": {
            "type": "integer",
            "title": "Max Steps",
            "default": 4
          },
          "workflow": {
            "type": "string",
            "title": "Workflow",
            "default": "linear"
          },
          "agentic_system_prompt": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Agentic System Prompt"
          }
        },
        "type": "object",
        "title": "QAAssistantConfig",
        "description": "Configuration for QA Assistant"
      },
      "RagasGenerationRequest": {
        "properties": {
          "collection_name": {
            "type": "string",
            "title": "Collection Name"
          },
          "dataset_name": {
            "type": "string",
            "title": "Dataset Name"
          },
          "testset_size": {
            "type": "integer",
            "title": "Testset Size",
            "description": "Number of test cases to generate",
            "default": 1
          },
          "model_name": {
            "type": "string",
            "title": "Model Name",
            "description": "LLM model for generation",
            "default": "gpt-4o-mini"
          }
        },
        "type": "object",
        "required": [
          "collection_name",
          "dataset_name"
        ],
        "title": "RagasGenerationRequest"
      },
      "ReindexRequest": {
        "properties": {
          "collection_name": {
            "type": "string",
            "title": "Collection Name"
          },
          "urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Urls"
          }
        },
        "type": "object",
        "required": [
          "collection_name",
          "urls"
        ],
        "title": "ReindexRequest"
      },
      "TaskProgressResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "title": {
            "type": "string",
            "title": "Title"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "stages": {
            "items": {
              "$ref": "#/components/schemas/ProgressStageResponse"
            },
            "type": "array",
            "title": "Stages"
          },
          "stats": {
            "items": {
              "$ref": "#/components/schemas/CompletionStatResponse"
            },
            "type": "array",
            "title": "Stats"
          },
          "failed": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Failed"
          }
        },
        "type": "object",
        "required": [
          "status",
          "title",
          "message"
        ],
        "title": "TaskProgressResponse"
      },
      "TaskStartedResponse": {
        "properties": {
          "task_id": {
            "type": "string",
            "title": "Task Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "task_id",
          "message"
        ],
        "title": "TaskStartedResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          },
          "input": {
            "title": "Input"
          },
          "ctx": {
            "type": "object",
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WatchUrlsResponse": {
        "properties": {
          "total_urls": {
            "type": "integer",
            "title": "Total Urls"
          },
          "changed_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Changed Urls"
          },
          "unchanged_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Unchanged Urls"
          },
          "changed_count": {
            "type": "integer",
            "title": "Changed Count"
          },
          "unchanged_count": {
            "type": "integer",
            "title": "Unchanged Count"
          }
        },
        "type": "object",
        "required": [
          "total_urls",
          "changed_urls",
          "unchanged_urls",
          "changed_count",
          "unchanged_count"
        ],
        "title": "WatchUrlsResponse"
      },
      "WebsiteLinkInfo": {
        "properties": {
          "href": {
            "type": "string",
            "title": "Href"
          },
          "url": {
            "type": "string",
            "title": "Url"
          },
          "text": {
            "type": "string",
            "title": "Text",
            "default": ""
          },
          "title": {
            "type": "string",
            "title": "Title",
            "default": "Untitled"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "default": 0.0
          },
          "base_domain": {
            "type": "string",
            "title": "Base Domain",
            "default": ""
          },
          "exists_in_collection": {
            "type": "boolean",
            "title": "Exists In Collection",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "href",
          "url"
        ],
        "title": "WebsiteLinkInfo",
        "description": "A link discovered during crawling."
      },
      "WebsiteUploadRequest": {
        "properties": {
          "collection_name": {
            "type": "string",
            "title": "Collection Name"
          },
          "urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Urls"
          }
        },
        "type": "object",
        "required": [
          "collection_name",
          "urls"
        ],
        "title": "WebsiteUploadRequest"
      }
    }
  }
}